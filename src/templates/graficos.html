<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráficos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/normalize.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <link rel="stylesheet" href="../static/css/graficos.css"> <!--Css para ver como está no live server-->
</head>

<body>
    <header id="navbar">
        <p>CROWS</p>
        <nav>
            <a href="{{ url_for('home') }}">Sobre</a>
            <a href="{{ url_for('graficos') }}">Gráficos</a>
            <a href="#">Municípios</a>
            <a href="#">Contato</a>
        </nav>
    </header>

    <main>
        <section class="filtro" id="filtro">
            <form action="{{ url_for('graficos') }}" method="POST">

                <h3 style="margin-top: 2%;">PERÍODO</h3>
                <div class="campo-data">
                    <label for="data_inicial">Ano inicial:</label>
                    <input type="range" class="form-range" id="ano_inicial" name="ano_inicial" min="2019" max="2024">
                </div>
                <div class="campo-data">
                    <label for="data_final">Ano final:</label>
                    <input type="range" class="form-range" id="ano_inicial" name="ano_inicial" min="2019" max="2024">
                </div>

                <h3>TIPO DE ANÁLISE</h3>
                <input type="radio" id="tipo" name="exp-imp" value="exportacao">
                <label for="tipo">Exportação</label><br>
                <input type="radio" id="tipo" name="exp-imp" value="importacao">
                <label for="tipo">Importação</label><br>

                <h3>MÉTRICA</h3>
                <input type="radio" id="agregado" name="metrica">
                <label for="agregado">Valor Agregado</label><br>

                <input type="radio" id="fob" name="metrica">
                <label for="fob">Valor FOB</label><br>

                <input type="radio" id="liquido" name="metrica">
                <label for="liquido">Kg Líquido</label><br>


                <h3>REGIÃO</h3>
                <input type="radio" id="cidade" name="tipos-filtro" onclick="mostrarCampo('cidade')">
                <label for="cidade">Municípios SP</label><br>

                <input type="radio" id="microrregiao" name="tipos-filtro" onclick="mostrarCampo('microrregiao')">
                <label for="pais">Microrregião</label><br>

                <input type="radio" id="porte" name="tipos-filtro" onclick="mostrarCampo('porte')">
                <label for="produto">Portes Semelhantes</label><br>

                <input type="radio" id="carga" name="tipos-filtro" onclick="mostrarCampo('carga')">
                <label for="produto">Por carga</label><br>

                <!-- Campos de input -->
                <div id="campo-microrregiao" class="campo-input">
                    <select name="input-microrregiao" id="input-microrregiao">
                        <option value="sao-paulo" selected>São Paulo</option>
                        <option value="sorocaba">Sorocaba</option>
                        <option value="bauru">Bauru</option>
                        <option value="marilia">Marília</option>
                        <option value="presidente-prudente">Presidente Prudente</option>
                        <option value="aracatuba">Araçatuba</option>
                        <option value="sjrp">São José do Rio Preto</option>
                        <option value="riberao-preto">Ribeirão Preto</option>
                        <option value="araraquara">Araraquara</option>
                        <option value="campinas">Campinas</option>
                        <option value="sjc">São José dos Campos</option>
                    </select>


                </div>

                <div id="campo-porte" class="campo-input">
                    <label for="input-porte">Digite o porte:</label>
                    <input type="text" id="input-porte">
                </div>

                <div id="campo-carga" class="campo-input">
                    <label for="input-carga">Código SH4:</label>
                    <input type="text" id="input-carga">

                </div>

                <button type="submit">Gerar Gráficos</button>
            </form>
        </section>

        <section class="grafico">
            {% if mostrar_grafico %}
            <h2>Gráfico de Balança Comercial</h2>
            <iframe class="responsive-iframe" src="{{ url_for('grafico_resultado') }}" frameborder="0"></iframe>
            {% endif %}
        </section>
        
        <footer>
            <nav id="link-footer">
                <a href="{{ url_for('home') }}">Sobre</a>
                <a href="{{ url_for('graficos') }}">Gráficos</a>
                <a href="#">Municípios</a>
                <a href="#">Contato</a>
            </nav>
            <h6>©2025 Crows</h6>
        </footer>
    </main>



    <script>
        function mostrarCampo(filtro) {
            // Esconde todos os campos de input
            const campos = document.querySelectorAll('.campo-input');
            campos.forEach(campo => campo.style.display = 'none');

            // Exibe o campo correspondente
            const campoSelecionado = document.getElementById('campo-' + filtro);
            if (campoSelecionado) {
                campoSelecionado.style.display = 'block';
            }
        }
    </script>
</body>

</html>